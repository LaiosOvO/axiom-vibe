# Tasks

- [ ] 1.1 定义 AgentMode, AgentDef 类型
- [ ] 1.2 定义 PermissionRule, Action 类型
- [ ] 2.1 实现 Permission.evaluate() last-match-wins 逻辑
- [ ] 2.2 实现 Permission.merge() 规则合并
- [ ] 2.3 实现 Permission.checkDoomLoop() 循环检测
- [ ] 3.1 定义 5 个内置 agent (build/plan/explore/title/summary)
- [ ] 3.2 实现 agent 注册和查询 API
- [ ] 3.3 实现 loadSystemPrompt() 从 .txt 文件加载
- [ ] 4.1 新建 permission 测试
- [ ] 4.2 更新 agent 测试
- [ ] 4.3 typecheck 通过
